name: doxygen-deploy

on:
  push:
    branches: [master]  

jobs:
  # The Job that will Build WS7
  deploy-worksheet7

    runs-on: ubuntu-latest

    # A list of steps to follow to complete the build (i.e. a list of command for the VM to execute)
    steps:

    # This is a predefined action that checks out a copy of your code
    - name: Checkout
      uses: actions/checkout@v2

    -name: Install doxygen
      run: sudo apt-get install -y doxygen

    # Run Doxygen on Worksheet7 Folder
    - name: Run Doxygen
      working-directory: ${{github.workspace}}/Worksheet7
      run: doxygen

    # Deploy html output from Doxygen to gh-pagees branches- name: Deploy 
    - name: Deploy
      uses: JamesIves/github-pages-deploy-action@v4.2.5
      with: 
        # The branch the action should deploy to.
        branch: gh-pages
        # The folder the action should deploy.
        folder: ${{github.workspace}}/Worksheet7/html  
    